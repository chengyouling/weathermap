server:
  port: 3010

spring:
  application:
    name: edge-service
  cloud:
    servicecomb:
      discovery:
        version: 0.0.2
        address: ${PAAS_CSE_SC_ENDPOINT:http://127.0.0.1:30100}
        watch: false
        servieName: ${spring.appliction.name}
        appName: weathermap
      config:
        serverAddr: ${PAAS_CSE_CC_ENDPOINT:http://127.0.0.1:30110}
        serverType: kie
      dashboard:
        enabled: false
        address: ${PAAS_CSE_DS_ENDPOINT:http://127.0.0.1:30109}
        invocationProviderEnabled: true # 使用基于请求的接口计数
        governanceProviderEnabled: false # 使用基于熔断器的计数
      # 开启 access log
      context:
        enableTraceInfo: true
      # 开启 metrics
      metrics:
        logsEnabled: true
        # includePattern: (.)* # Java正则表达式，只统计包含的 metrics ID。
        # excludePattern: (.)* # Java正则表达式，不统计包含的 metrics ID。
        logsInterval: PT1M # Duration表达式，打印周期

    # 路由配置
    gateway:
      routes:
        - id: fusionweather
          # 基于负载均衡的路由
#          uri: lb://fusionweather
          # 基于微服务地址端口路由
          uri: ${fusionweather_address:http://127.0.0.1:10392}
          predicates:
            - Path=/**

